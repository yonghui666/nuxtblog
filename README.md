## 个人博客网站
>后台状态码0：成功；1：失败；msg消息、数据；
> 数据库：caogao: 为1代表是草稿，null非草稿
> 后台返回的msg：一般代表查数据库后的结果；message：代表提示信息
### 注意事项
- if判断取反的时候尽量把要取反的值加个小括号
### 参考文章
- express中的session使用：https://www.cnblogs.com/lpxj-blog/p/10783815.html
### 小知识
- 当vue触发一个事件要改变某个data中的值得时候，可以不用写方法，直接改变；场景：切换弹出层时；
- vue路由中的params附带的参数，刷新页面就会消失，如果只是可以用query代替。但是query不适合传太多参数；
- 给vue组件绑定事件时候，必须加上native ，不然不会生效
- 当data中的数据较
多时，可以适当的将同类数据放在一个对象里面；包括方法；
- 用户的接口和公共接口尽量分开写
- HTML标签内的文本超出父容器自动换行
```
	width: 100%;
    height: auto;
    word-wrap:break-word;
    word-break:break-all;
    overflow: hidden;
```

### 错误
- node：Cannot set headers after they are sent to the client；
> nodejs+express中出现这个错误都在路由里,大部分是程序运行了res.xxx之后,后面还有和请求,响应相关的操作造成的.
- nuxt中需要注意在访问本地存储要进行判断是否是客户端；
- vue路由中的params附带的参数，刷新页面就会消失
- 查数据库报错：Promise { <pending> }
> 可能是因为在调用查数据库的方法，忘记使用`await`造成的！！！
- 在嵌套路由里面，嵌套的那个文件貌似不能使用服务端渲染，会出bug。好像是嵌套的所有文件都会执行服务端渲染。要避免这样的情况。
- 如果根据session里的用户名请求，名称写错就会一直登陆；
---
## js 常用方法
- scrollTo(0,0);滚动到指定位置
- dom.offsetTop;获取元素相对于页面的高度，包括滚动条；配置scrollTo可以滚动到指定元素的位置；
- getBoundingClientRect；用于获得页面中某个元素的左，上，右和下分别相对浏览器视窗的位置。不包括滚动条；
- window.location.reload()；相当于f5

## 写项目流程
### css把常用的正文，小字，文字大小，颜色，及常用盒子的外观样式可以定义为全局类名；全局色调统一；
	- h2为标题，h3为副标题；字体样式提前定义好；
	- 一个全局默认样式重置文件，一个全局样式文件(全局变量，类等等)
	- 有设计稿的话，提取全局的公共样式，提前定义类和变量等等；
### js 方面
- vue
	- 封装组件，注意组件的使用场景，不要过度封装；
- axios
	- 全局请求拦截(加请求头，token等等)，全局响应拦截(处理后端返回的状态，如未登录等等)；
- router
	- 路由全局守卫，组件内部路由的生命周期函数；
- node
	- session或jwt验证用户身份；
	- 路由的模块化，方便后期维护，把路由的接口分离为单独文件；
	- 全局配置响应头，跨域等等；
---
###步骤
- 登录注册验证及思路；
	- 注册时：验证用户名是否重复，注册格式提示信息，格式错误提示信息，loading效果防止多次点击；
	- 非空验证、loading效果、记录登录状态，路由全局守卫、session
	- 当用户登录之后，在登录接口保存一下session，存一下用户名、过期时间；当用户在请求其他的接口，不需要传用户名，可以
直接从req.session中获取。也省去了前端路由传参的过程；【注意session验证的接口通过用了路由，就要写到路由里】
	- 上传图片：new一个formdata，吧图片数据append进去，通过ajax发送到服务端，node通过中间件解析，吧图片保存到本地
在保图片的路径保存到数据库，吧路径发送到前端；ok
	- 上传图片前端传参通过往formdata里面append参数；后端通过中间件解析参数，解析文件；不是在request中获取；
- 选中状态的保存，在刷新页面标签还是之前的状态，主要通过，路由的beforeRouteUpdate和本地存储实现；在初始化时选中默认的标签，
在路由的参数变化时，把选中的标签存到本地存储，只要刷新就会调用组件的mounted函数，把本地存储里面的值，赋值给页面中的data